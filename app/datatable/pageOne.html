<!DOCTYPE HTML>
<html ng-app="MyApp">
	<head>
		<link rel="stylesheet" href="/app/lib/Bootstrapv3.0.2/css/bootstrap.min.css">		
		<link rel="stylesheet" href="/app/lib/DataTables/Buttons-1.4.2/css/buttons.dataTables.min.css">	
		<link rel="stylesheet" href="/app/lib/angular-datatable/angular-datatables.min.css">					
		<link rel="stylesheet" href="/app/lib/DataTables/DataTables-1.10.16/css/datatables.bootstrap.min.css">			
	</head>
	<body ng-controller="myCtrl as vm">
		
		<create-datatable data="vm.persons"></create-datatable>
		
		<script type="text/javascript" src="/app/lib/jquery-3.0.0.js"></script>			
		<script type="text/javascript" src="/app/lib/angular.js"></script>
		<script type="text/javascript" src="/app/lib/DataTables/DataTables-1.10.16/js/jquery.dataTables.js"></script>
		<script type="text/javascript" src="/app/lib/DataTables/Buttons-1.4.2/js/dataTables.buttons.min.js"></script>
		<script type="text/javascript" src="/app/lib/DataTables/Buttons-1.4.2/js/buttons.colVis.min.js"></script>
		<script type="text/javascript" src="/app/lib/DataTables/Buttons-1.4.2/js/buttons.flash.min.js"></script>
		<script type="text/javascript" src="/app/lib/DataTables/Buttons-1.4.2/js/buttons.html5.min.js"></script>
		<script type="text/javascript" src="/app/lib/DataTables/Buttons-1.4.2/js/buttons.print.min.js"></script>		
		<script type="text/javascript" src="/app/lib/angular-datatable/angular-datatables.min.js"></script>
		<script type="text/javascript" src="/app/lib/angular-datatable/angular-datatables.buttons.min.js"></script>			
		
		
		<script type="text/javaScript">
			(function(){
				'use strict';
				angular.module("MyApp",["datatables","datatables.buttons"]);
				angular.module("MyApp").directive("createDatatable",createDatatable);
				angular.module("MyApp").controller("myCtrl",myCtrl);

				myCtrl.$inject = ["$scope","DTOptionsBuilder"];				

				function createDatatable(){
					var datatableController = datatableController;
					return {
						"restrict" : "EA",
						"scope" : {
							"data" : "="
						},
						"templateUrl" : "/app/datatable/tmplOne.html",
						"controller" : ["$scope","DTOptionsBuilder",datatableController]
					} // end of return

					function datatableController($scope,DTOptionsBuilder){
						$scope.dtOptions = DTOptionsBuilder.newOptions().withDOM("Bfrtip").withButtons(['copy','print','csv']);
					}
				} // end of createDatatable

				function myCtrl($scope,DTOptionsBuilder){
					var vm = this;

					vm.persons = [
						{ "id" : 1, "firstName" : "Foo", "lastName" : "Bar" },
						{ "id" : 123, "firstName" : "Someone", "lastName" : "Youknow" },
						{ "id" : 987, "firstName" : "Iamout", "lastName" : "Ofinspiration" },
						{ "id" : 187, "firstName" : "Zack", "lastName" : "The Man" },
						{ "id" : 18, "firstName" : "Zack Snieder", "lastName" : "This" }
					];
					
				} // end of myCtrl
			})();
		</script>
	</body>
</html>